<?xml version="1.0" encoding="UTF-8"?>
<entity-mappings version="2.0" xmlns="http://java.sun.com/xml/ns/persistence/orm"
                 xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
                 xsi:schemaLocation="http://java.sun.com/xml/ns/persistence/orm
        http://java.sun.com/xml/ns/persistence/orm_2_0.xsd ">

<!--*****************************************************CustomerVO********************************************************-->
    <!--校验客户名称是否重复-->
    <named-query name="CustomerVO.countCustomerName">
        <query>select count(b.customerName) from CustomerVO b  where b.customerName = :customerName </query>
    </named-query>

    <!--校验客户证件号码是否重复-->
    <named-query name="CustomerVO.countIdentityNo">
        <query>select count(b.identityNo) from CustomerVO b  where b.identityNo = :identityNo </query>
    </named-query>

    <!--根据客户主键批量删除客户-->
    <named-query name="CustomerVO.batchDeleteByPks">
        <query>delete from CustomerVO a where a.pkCustomer in (:pks)</query>
    </named-query>

    <!--*************************************************CustomerCorpAllVO************************************************************-->
    <!--根据客户名称查询客户-->
    <named-query name="CustomerCorpAllVO.findByCustomerName">
        <query>select b from CustomerCorpAllVO b where b.customerName = :customerName AND b.ifNew = 0 </query>
    </named-query>

    <!--根据客户主键查询客户-->
    <named-query name="CustomerCorpAllVO.findByPkCustomer">
        <query>select b from CustomerCorpAllVO b where b.pkCustomer = :pkCustomer AND b.ifNew = 0 </query>
    </named-query>

    <!--根据客户主键批量删除客户-->
    <named-query name="CustomerCorpVO.batchDeleteByPks">
        <query>delete from CustomerCorpVO a where a.pkCustomer in (:pks)</query>
    </named-query>

    <!--************************************************CustRelatedCompanyVO*************************************************************-->
    <!--根据客户主键查询客户来源-->
    <!--<named-query name="CustomerCorpVO.querySourceByPkCustomer">-->
        <!--<query>select a from CustRelatedCompanyVO a-->
            <!--left join fetch a.pkCustomer-->
            <!--where a.pkCustomer = :pkCustomer</query>-->
    <!--</named-query>-->

    <!--根据客户主键查询客户来源-->
    <named-query name="CustomerCorpVO.querySourceByPkCustomer">
        <query>select a from CustRelatedCompanyVO a
            where a.pkCustomer = :pkCustomer</query>
    </named-query>

        <!--************************************************CustShareHoldersVO*************************************************************-->
    <!--根据客户主键查询客户股东情况-->
    <named-query name="CustShareHoldersVO.queryHoldersByPkCustomer">
        <query>select a from CustShareHoldersVO a
            where a.pkCustomer = :pkCustomer</query>
    </named-query>
</entity-mappings>